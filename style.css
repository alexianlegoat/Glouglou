/* Bloque le scroll sur la racine */
html {
    overflow: hidden;
    height: 100%;
}

body {
    font-family: 'Poppins', sans-serif;
    background: linear-gradient(135deg, #0020C2 0%, #432b8f 50%, #CC00CB 100%);
    background-size: 400% 400%;
    animation: floatBackground 15s ease infinite;
    background-attachment: fixed;
    color: #f0f0f0;
    margin: 0;
    display: flex;
    height: 100vh;
    justify-content: center;
    align-items: center;
    padding: 0;
    overflow: hidden; /* Garde le blocage ici */
    box-sizing: border-box;
    position: relative;
}

/* Style pour une "page" */
.page {
    width: 90%;
    max-width: 400px;
    padding: 25px;
    text-align: center;
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    opacity: 0;
    pointer-events: none;
    transition: opacity 0.5s ease-out, transform 0.5s ease-out;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
}

/* Page active (Règle générale) */
.page.active {
    opacity: 1;
    pointer-events: auto;
    transform: translate(-50%, -50%) translateX(0);
    z-index: 1;
}

/* Position de la page-joueurs quand elle est active */
#page-joueurs.active {
    top: 0;
    transform: translate(-50%, 0) translateX(0); /* Annule le 50% vertical */
    justify-content: flex-start; /* Aligne le contenu en haut */
    padding-top: 30px; /* Espace en haut de l'écran */
}

/* Position de la page-packs quand elle est active */
#page-packs.active {
    top: 0;
    transform: translate(-50%, 0) translateX(0);
    justify-content: flex-start;
    padding-top: 30px;
}


/* === Animations de transition (Avant / Arrière) === */
/* Avant : Entre (depuis la droite) */
.page.anim-in-forward-prepare {
    transform: translate(-50%, -50%) translateX(100%);
    opacity: 0;
    display: flex;
    z-index: 2;
}
/* Avant : Sort (vers la gauche) */
.page.anim-out-forward {
    transform: translate(-50%, -50%) translateX(-100%) !important;
    opacity: 0 !important;
    z-index: 0;
}
/* Arrière : Entre (depuis la gauche) */
.page.anim-in-backward-prepare {
    transform: translate(-50%, -50%) translateX(-100%);
    opacity: 0;
    display: flex;
    z-index: 2;
}
/* Arrière : Sort (vers la droite) */
.page.anim-out-backward {
    transform: translate(-50%, -50%) translateX(100%) !important;
    opacity: 0 !important;
    z-index: 0;
}
/* ========================================================== */


@keyframes floatBackground {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
}

/* ======== Style du Bouton Retour (Modifié) ======== */
.btn-retour {
    position: absolute;
    top: 25px; /* Positionné en haut du container de page */
    left: 25px; /* Positionné à gauche */
    width: 40px;
    height: 40px;
    background-color: rgba(255, 255, 255, 0.15); /* Style verre */
    backdrop-filter: blur(5px);
    border: 1px solid rgba(255, 255, 255, 0.2);
    border-radius: 8px; /* Carré arrondi */
    
    /* Utilisation de l'image de fond */
    background-image: url('retour.png'); /* Assurez-vous que le fichier s'appelle bien retour.png */
    background-size: 70%; /* Taille de l'image dans le bouton */
    background-repeat: no-repeat;
    background-position: center; /* Centre l'image */
    
    cursor: pointer;
    z-index: 10; /* Au-dessus des autres éléments de la page */
    transition: all 0.2s ease;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 0;
    
    /* On enlève le texte (flèche emoji) */
    color: transparent; 
    font-size: 0;
}
.btn-retour:hover {
    background-color: rgba(255, 255, 255, 0.3);
    transform: scale(1.1);
}
/* ================================================ */


/* === STYLES COMMUNS === */
#logo-accueil {
    width: 150px; height: auto; margin-bottom: 20px;
}
#logo-principal {
    height: 60px;
    width: auto;
    margin: 0 auto 0px auto;
    transition: all 0.5s ease-out;
}

h1#app-title { font-size: 3.5em; font-weight: 700; color: white; margin-bottom: 10px; text-shadow: 0 4px 10px rgba(0,0,0,0.2); }
h2 {
    text-align: center; color: #ffffff; font-weight: 700;
    margin-top: 15px;
    margin-bottom: 25px;
}
p#catchphrase { font-size: 1.2em; color: #e0e0e0; margin-bottom: 40px; }
#tagline { font-size: 0.9em; color: #d0d0d0; margin-top: -30px; margin-bottom: 40px; }

/* Bouton "Prêt" */
.btn-accueil {
    width: 100%; padding: 15px; font-size: 1.2em;
    font-weight: 700; font-family: 'Poppins', sans-serif;
    background-color: #CC00CB; color: white;
    border: none; border-radius: 12px; cursor: pointer;
    transition: box-shadow 0.2s ease;
    box-shadow: 0 4px 15px rgba(0,0,0,0.2);
    text-decoration: none;
    animation: pulse 2s infinite ease-in-out;
}

/* Bouton principal (Suivant/Commencer) en violet, pulsant */
.btn-principal {
    width: 100%; padding: 14px; font-size: 1.1em;
    font-weight: 700; font-family: 'Poppins', sans-serif;
    background-color: #CC00CB;
    color: white;
    border: none; border-radius: 8px; cursor: pointer;
    transition: background-color 0.2s;
    animation: pulse 2s infinite ease-in-out;
}
.btn-principal:hover {
     background-color: #a000a0;
}

/* Styles pour la page Joueurs */
.input-zone { display: flex; gap: 10px; margin-bottom: 20px; width: 100%; position: relative; }
#inputNom { flex-grow: 1; padding: 10px; padding-right: 45px; border: 1px solid rgba(255,255,255,0.3); background-color: rgba(255,255,255,0.1); border-radius: 8px; font-family: 'Poppins', sans-serif; color: white; }
#inputNom::placeholder { color: #cccccc; }
.add-button-inline { position: absolute; right: 10px; top: 50%; transform: translateY(-50%); font-size: 1.5em; cursor: pointer; opacity: 0.7; transition: opacity 0.2s; user-select: none; }
.add-button-inline:hover { opacity: 1; }
#btnAjouter { display: none; }
#listeDesJoueurs { 
    list-style-type: none; padding-left: 0; 
    max-height: 45vh; 
    overflow-y: auto; margin-bottom: 20px;
    width: 100%; 
}
#listeDesJoueurs li { display: flex; justify-content: space-between; align-items: center; background-color: rgba(255,255,255,0.1); border: 1px solid rgba(255,255,255,0.2); padding: 12px; margin-bottom: 8px; border-radius: 8px; color: white; width: 100%; box-sizing: border-box; }
.btn-supprimer { background-color: #dc3545; color: white; border: none; padding: 5px 10px; border-radius: 4px; cursor: pointer; }

/* Styles pour la page Packs */
.pack-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-bottom: 30px; width: 100%; }
.pack-grid input[type="radio"] { display: none; }
.pack-grid label {
    padding: 15px;
    font-size: 1em;
    font-weight: 700;
    color: white;
    border-radius: 10px;
    cursor: pointer;
    text-align: center;
    transition: all 0.25s ease;
    min-height: 90px;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    position: relative;
    overflow: hidden;
    background-color: rgba(255, 255, 255, 0.15);
    backdrop-filter: blur(5px);
    border: 2px solid rgba(255, 255, 255, 0.2);
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
    text-shadow: 0 1px 3px rgba(0, 0, 0, 0.4);
    background-image: none;
    background-size: 200% auto;
}
.pack-grid label:hover { transform: scale(1.03); background-color: rgba(255, 255, 255, 0.25); border-color: rgba(255, 255, 255, 0.4); box-shadow: 0 6px 15px rgba(0, 0, 0, 0.2); }
.pack-grid input[type="radio"]:checked + label { transform: scale(1.08); box-shadow: 0 10px 30px rgba(0,0,0,0.4); border-color: black; background-size: 200% auto; animation: gradientShift 3s ease infinite alternate; }

.pack-title {
    font-size: 1.1em;
    margin-bottom: 5px;
}
.pack-description {
    font-size: 0.75em;
    font-weight: 400;
    color: rgba(255, 255, 255, 0.8);
    line-height: 1.3;
}

#pack-debut:checked + #label-debut { background-image: linear-gradient(to right, #89f7fe 0%, #66a6ff 100%); }
#pack-problemes:checked + #label-problemes { background-image: linear-gradient(to right, #fca311 0%, #DD571C 100%); }
#pack-chauffe:checked + #label-chauffe { background-image: linear-gradient(to right, #ff416c 0%, #960018 100%); }
#pack-glouglou:checked + #label-glouglou { background-image: linear-gradient(to right, #a737f5 0%, #f000ff 100%); }

@keyframes gradientShift {
    0% { background-position: 0% 50%; }
    100% { background-position: 100% 50%; }
}
@keyframes pulse {
    0% { transform: scale(1); box-shadow: 0 4px 15px rgba(0,0,0,0.2); }
    50% { transform: scale(1.03); box-shadow: 0 6px 25px rgba(0,0,0,0.3); }
    100% { transform: scale(1); box-shadow: 0 4px 15px rgba(0,0,0,0.2); }
}

/* Styles pour la modale d'alerte */
.modal-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0, 0, 0, 0.6); display: flex; justify-content: center; align-items: center; z-index: 1000; opacity: 0; transition: opacity 0.3s ease; pointer-events: none; }
.modal-overlay.visible { opacity: 1; pointer-events: auto; }
.modal-content { background-color: rgba(40, 40, 70, 0.85); backdrop-filter: blur(8px); padding: 25px 30px; border-radius: 12px; border: 1px solid rgba(255, 255, 255, 0.2); box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3); width: 80%; max-width: 350px; text-align: center; transform: scale(0.9); transition: transform 0.3s ease; }
.modal-overlay.visible .modal-content { transform: scale(1); }
.modal-content h4 { color: white; font-weight: 700; font-size: 1.3em; margin-top: 0; margin-bottom: 10px; }
.modal-content p { color: #e0e0e0; font-size: 1em; margin-bottom: 25px; line-height: 1.5; }
.modal-buttons { display: flex; justify-content: center; gap: 15px; }
.modal-btn { padding: 10px 15px; border: none; border-radius: 8px; font-family: 'Poppins', sans-serif; font-weight: 700; font-size: 1em; cursor: pointer; transition: background-color 0.2s, transform 0.1s; min-width: 100px; }
.modal-btn:active { transform: scale(0.98); }
.modal-btn-ok { background-color: #007bff; color: white; }
.modal-btn-ok:hover { background-color: #0056b3; }
